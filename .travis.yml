language: node_js
node_js:
- lts/*
cache:
  directories:
  - node_modules
before_install:
- openssl aes-256-cbc -K $encrypted_8ccd6defe5da_key -iv $encrypted_8ccd6defe5da_iv
  -in index.js.enc -out ./client/src/config/index.js -d
before_script:
- npm install
- npm run setup
- npm run build:client
- npm run build:server
deploy:
  provider: heroku
  api_key:
    secure: UEUKebkmv2xMdP4Wbk5mm07JOXqyGrP4XE18cqqdfTiH31gvUnC9m6VwiLgUIIsD4yQNeTwjz88H8xcbVN09Lxbvs1L34FlwWtiHrUFLczO2Xl4nG7vKExr7EF3wVD1TDiFoiv0qUc3lEP+jMf3AmtRImtZNaccqN1Mhhbf0zrl3Jr7kXYZvggzlRxy+WXZPQaqTwEFcf8TrQCSsd+e97TlI2kQv24ABekP6lyblmN2pi0rmHLKvbovOP9nRNW/qU+27mDwGQ3M6Y+QdtTQv3frqCKnMjqfDhuj8wsifo3CUU8h0FyOy6Bteuwz0Auf/oEsZMWiw6k8VQeG7lScP41wxuIL2Ypxd816R/4SrZPhyoBDXC4LmmlbZdM8lbxRNaXVQtVjM56pDqlb649AG8Cs2Oj2qXX2cMVEi/s4M0cadQIdWtRU7ZDB3bj1NdcGjOAy7mLRmY8cx1wsPumdg46yXY9zaro5d3S6TKHKH0zbGE3yxPw2hNzVR1A95NRFWFhXLft9P+8jY8MrBPVYdMjepehmJzNPbjWPUvnXV9gKJNLYEFuZx3DDFoA78UR04KZ2ceEgnBuMUA9IqqZCtG6fm3O7PBze58LrqBIhjpSkqzBlu3dYQiX4xjvTtiywAdgYomgdh3uLGT0yGtgL2WAJjjAyr9j1IgqfK9hBIOZo=
  app: photoboard
  on:
    repo: lfaudreejr/PhotoBoard
