webpackJsonp([1],{"2ugG":function(t,e){},"4+hh":function(t,e){},IQeL:function(t,e){},J9ox:function(t,e){},KakR:function(t,e){},LjJd:function(t,e){},MXkr:function(t,e){},NHnr:function(t,e,n){"use strict";function a(t){return p("/api/boards",t)}function o(){return h("/api/user/profile")}function i(t,e){return p("/api/pins/add",{pin:t,board:e})}function r(t){return g("/api/pins/"+t)}function d(t){var e=w()(1e3*t.expiresIn+(new Date).getTime());return localStorage.setItem("access_token",t.accessToken),localStorage.setItem("id_token",t.idToken),localStorage.setItem("expires_at",e),dt.emit("authChange",{authenticated:!0})}function c(t){it().client.userInfo(t.accessToken,function(t,e){return t&&console.log(t),localStorage.setItem("id",w()(e.sub)),localStorage.setItem("profile",w()(e)),dt.emit("profileChange",{currentUser:v()}),setTimeout(function(){p("/api/user/profile",{_id:v()}).then(function(t){return console.log(t)}).catch(function(t){return console.error(t.message)})},1e3)})}Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),l=n("mtWM"),u=n.n(l),m=function(){return localStorage.getItem("access_token")},f=function(){var t=JSON.parse(localStorage.getItem("profile"));return t?t.name:null},v=function(){return JSON.parse(localStorage.getItem("id"))},p=function(t,e){return u.a.post(t,e,{headers:{Authorization:"Bearer "+m(),Profile:v()}})},h=function(t){return u.a.get(t,{headers:{Authorization:"Bearer "+m(),Profile:v()}})},_=function(t,e){return u.a.put(t,e,{headers:{Authorization:"Bearer "+m(),Profile:v()}})},g=function(t){return u.a.delete(t,{headers:{Authorization:"Bearer "+m(),Profile:v()}})},b=n("Xxa5"),C=n.n(b),P=n("exGp"),D=n.n(P),B=n("mvHQ"),w=n.n(B),k=n("2fyi"),y=n.n(k),T=n("BzvE"),A=n.n(T),x={DOMAIN:"lfaudreejr.auth0.com",CLIENT_ID:"exgiRaE0pykjn3P70dPvVJW58DLJq7Ny",REDIRECT_URI:window.location.origin+"/callback"},E=n("/ocq"),M=n("//Fk"),S=n.n(M),N=function(){return v()},I=function(){return f()},$=function(){var t=D()(C.a.mark(function t(e){var n;return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h("/api/boards/"+e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=D()(C.a.mark(function t(){var e,n,a;return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o();case 2:return e=t.sent,n=[],e.data.forEach(function(t){n.push($(t.title))}),t.next=7,S.a.all(n);case 7:return a=t.sent,t.abrupt("return",a.map(function(t){return t}));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),O={name:"main",props:["authenticated","currentUser"],data:function(){return{loading:!1,menuVisible:!1,savePinDialogControl:!1,createABoardToAddPinControl:!1,clickedPin:!1,pins:{},currentBoards:null,createBoardTitle:null}},methods:{loadPins:function(){return h("/api/pins/all")},updateClickedPin:function(t){this.clickedPin=t},getCurrentClickedPin:function(){return this.clickedPin},showSavePinDialog:function(t){this.savePinDialogControl=t},savePinToBoard:function(t){var e=this,n=this.getCurrentClickedPin();i({url:n.url,description:n.description,uploaded_by:n.uploaded_by,saved_by:N()},{_id:t}).then(function(t){e.$router.replace("/"+I()+"/dashboard/"+t.data.value.title)}).catch(function(t){return console.error(t)})},toggleCreateABoardDialog:function(t){this.createABoardToAddPinControl=t},createABoardToAddPin:function(t){var e=this;this.loading=!0,a({title:t,owner:N()}).then(function(t){e.loading=!1,e.savePinToBoard(t.data._id)})},gotoPin:function(t){this.$router.replace("/pins/"+t._id)},fetchData:function(){var t=this;this.loading=!0,this.loadPins().then(function(e){t.pins=e.data,setTimeout(function(){N()&&o().then(function(e){t.currentBoards=e.data}).catch(function(t){return console.error(t)})},2e3),t.loading=!1}).catch(function(t){return console.error(t)})}},created:function(){this.fetchData()},updated:function(){this.$redrawVueMasonry()},watch:{$route:"fetchData"}},R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("div",[n("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"query"}})],1):t._e(),t._v(" "),t.pins?n("div",{directives:[{name:"masonry",rawName:"v-masonry"}],attrs:{"transition-duration":"0.3s","item-selector":".home-tile"}},t._l(t.pins,function(e){return n("div",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:e._id,staticClass:"home-tile"},[n("md-card",[n("md-card-media",[n("img",{attrs:{src:e.url,alt:e.description}})]),t._v(" "),n("md-card-area",[n("md-card-actions",[t.authenticated&&t.currentUser!==e.saved_by?n("md-button",{staticClass:"md-icon-button",on:{click:function(n){t.updateClickedPin(e),t.showSavePinDialog(!0)}}},[n("md-icon",[t._v("bookmark")])],1):t._e(),t._v(" "),n("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(n){t.gotoPin(e)}}},[n("md-icon",[t._v("pageview")])],1)],1)],1)],1)],1)})):t._e(),t._v(" "),n("md-dialog",{staticClass:"dialog",attrs:{"md-active":t.savePinDialogControl},on:{"update:mdActive":function(e){t.savePinDialogControl=e}}},[n("md-dialog-title",[t._v("Select a board to save pin to.")]),t._v(" "),n("md-dialog-content",[n("div",[n("md-button",{on:{click:function(e){t.toggleCreateABoardDialog(!0)}}},[t._v("Create     Board")])],1),t._v(" "),t._l(t.currentBoards,function(e){return t.currentBoards?n("div",{key:e._id},[n("md-button",{on:{click:function(n){t.savePinToBoard(e._id)}}},[t._v(t._s(e.title)+"   ")])],1):t._e()})],2),t._v(" "),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSavePinDialog(!1)}}},[t._v("Cancel")])],1)],1),t._v(" "),n("md-dialog",{attrs:{"md-active":t.createABoardToAddPinControl},on:{"update:mdActive":function(e){t.createABoardToAddPinControl=e}}},[n("md-dialog-title",[t._v("Create Board")]),t._v(" "),n("md-dialog-content",[n("md-field",{attrs:{"md-clearable":""}},[n("label",{attrs:{for:"board-name"}},[t._v("Board name")]),t._v(" "),n("md-input",{attrs:{name:"board-name"},model:{value:t.createBoardTitle,callback:function(e){t.createBoardTitle=e},expression:"createBoardTitle"}})],1),t._v(" "),n("md-dialog-actions",[n("md-button",{nativeOn:{click:function(e){t.toggleCreateABoardDialog(!1)}}},[t._v("Cancel")]),t._v(" "),n("md-button",{nativeOn:{click:function(e){t.createABoardToAddPin(t.createBoardTitle)}}},[t._v("Create")])],1)],1)],1)],1)},staticRenderFns:[]},F=n("VU/8")(O,R,!1,function(t){n("LjJd")},null,null).exports,V={name:"callback",data:function(){return rt(),{}}},J={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"spinner"},[e("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}})],1)},staticRenderFns:[]},q=n("VU/8")(V,J,!1,null,null,null).exports,z={name:"profile",data:function(){return{loading:!1,showCreateBoardDialogProp:!1,showEditBoardDialogProp:!1,openDeleteDialogProp:!1,modal:{boardName:""},boards:null,newBoardTitle:null,editingBoard:null}},computed:{username:function(){return JSON.parse(localStorage.getItem("profile")).name},picture:function(){return JSON.parse(localStorage.getItem("profile")).picture},userBoards:function(){return this.boards}},methods:{showCreateBoardDialog:function(t){this.showCreateBoardDialogProp=t},openBoardEditModal:function(t){this.showEditBoardDialogProp=t},openDeleteConfirmModal:function(t){this.openDeleteDialogProp=t},setEditBoard:function(t){this.editingBoard=t},confirmDelete:function(t){var e=this;this.loading=!0,function(t){return g("/api/boards/"+t)}(t).then(function(t){e.getPins().then(function(t){e.loading=!1,e.boards=t,e.editingBoard=null}).catch(function(t){return console.error(t)}),e.openBoardEditModal(!1)}).catch(function(t){return console.error(t)})},createBoard:function(){var t=this;a({title:this.modal.boardName,owner:N()}).then(function(e){t.$router.push(t.modal.boardName)}).catch(function(t){console.error(t)})},submitBoardEdit:function(){var t=this;this.loading=!0,function(t,e){return _("/api/boards/"+t,e)}(this.editingBoard.title,{title:this.newBoardTitle}).then(function(e){t.getPins().then(function(e){t.loading=!1,t.boards=e}).catch(function(t){return console.error(t)}),t.openBoardEditModal(!1)}).catch(function(t){return console.error(t)}),this.newBoardTitle=null},gotoBoard:function(t){this.$router.push({name:"Board",params:{board:t}})},getBoards:function(){return o()},getPins:function(){return U()},fetchData:function(){var t=this;this.loading=!0,this.getPins().then(function(e){t.boards=e,t.loading=!1}).catch(function(t){return console.error(t)})}},created:function(){this.fetchData()},watch:{$route:"fetchData"}},L={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"profile"},[t.loading?n("div",[n("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"query"}})],1):t._e(),t._v(" "),n("div",{staticClass:"md-layout md-gutter md-alignment-top-center"},[n("div",{staticClass:"md-layout-item md-size-70"},[n("p",{staticClass:"md-display-1"},[t._v(t._s(t.username))])]),t._v(" "),n("div",{staticClass:"md-layout-item"},[n("img",{staticClass:"user-picture",attrs:{src:t.picture}})])]),t._v(" "),n("div",{directives:[{name:"masonry",rawName:"v-masonry"}],attrs:{"transition-duration":"0.3s","item-selector":".tile"}},[n("div",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],staticClass:"tile"},[n("md-card",{staticClass:"board-card",attrs:{"md-with-hover":""},nativeOn:{click:function(e){t.showCreateBoardDialog(!0)}}},[n("md-card-header",[n("span",{staticClass:"md-subhead"},[t._v("Add new board")])]),t._v(" "),n("md-ripple",[n("md-card-content",[n("md-button",{staticClass:"md-icon-button board-button"},[n("md-icon",[t._v("add")])],1)],1)],1)],1)],1),t._v(" "),t._l(t.userBoards,function(e){return t.userBoards?n("div",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:e.title,staticClass:"tile"},[n("md-card",{staticClass:"board",attrs:{"md-with-hover":""}},[n("md-ripple",{nativeOn:{click:function(n){t.gotoBoard(e.title)}}},[n("md-card-header",[n("span",{staticClass:"md-subhead"},[t._v(t._s(e.title))])]),t._v(" "),n("md-card-content",[n("div",{directives:[{name:"masonry",rawName:"v-masonry"}],attrs:{"item-selector":".inner-tile"}},t._l(e.pins,function(t){return n("div",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:t._id,staticClass:"inner-tile"},[n("img",{attrs:{src:t.url}})])}))])],1),t._v(" "),n("md-button",{on:{click:function(n){t.openBoardEditModal(!0),t.setEditBoard(e)}}},[t._v("edit")]),t._v(" "),n("md-button",{on:{click:function(e){t.openDeleteConfirmModal(!0)}}},[t._v("Delete")])],1),t._v(" "),n("md-dialog-confirm",{attrs:{"md-active":t.openDeleteDialogProp,"md-title":"Are you sure?","md-content":"Deleting a board and it's pins is permanent.","md-confirm-text":"Delete","md-cancel-text":"Cancel"},on:{"update:mdActive":function(e){t.openDeleteDialogProp=e},"md-cancel":function(e){t.openDeleteConfirmModal(!1)},"md-confirm":function(n){t.confirmDelete(e._id)}}})],1):t._e()})],2),t._v(" "),n("md-dialog",{staticClass:"dialog",attrs:{"md-active":t.showCreateBoardDialogProp},on:{"update:mdActive":function(e){t.showCreateBoardDialogProp=e}}},[n("div",[n("md-dialog-title",[t._v("Create Board")]),t._v(" "),n("md-field",{attrs:{"md-clearable":""}},[n("label",{attrs:{for:"board-name"}},[t._v("Board name")]),t._v(" "),n("md-input",{attrs:{name:"board-name",id:"board-name"},model:{value:t.modal.boardName,callback:function(e){t.$set(t.modal,"boardName",e)},expression:"modal.boardName"}})],1),t._v(" "),n("md-divider"),t._v(" "),n("md-dialog-actions",[n("md-button",{on:{click:function(e){t.showCreateBoardDialog(!1),t.modal.boardName=""}}},[t._v("Cancel")]),t._v(" "),n("md-button",{on:{click:function(e){t.createBoard()}}},[t._v("Create")])],1)],1)]),t._v(" "),n("md-dialog",{staticClass:"dialog",attrs:{"md-active":t.showEditBoardDialogProp},on:{"update:mdActive":function(e){t.showEditBoardDialogProp=e}}},[n("md-dialog-title",[t._v("Edit board")]),t._v(" "),n("md-dialog-content",[n("md-field",{attrs:{"md-clearable":""}},[n("label",{attrs:{for:"new-title"}},[t._v("Title")]),t._v(" "),n("md-input",{attrs:{name:"new-title"},model:{value:t.newBoardTitle,callback:function(e){t.newBoardTitle=e},expression:"newBoardTitle"}})],1)],1),t._v(" "),n("md-dialog-actions",[n("md-button",{on:{click:function(e){t.openBoardEditModal(!1)}}},[t._v("Cancel")]),t._v(" "),n("md-button",{on:{click:function(e){t.submitBoardEdit()}}},[t._v("Save")])],1)],1)],1)},staticRenderFns:[]},H=n("VU/8")(z,L,!1,function(t){n("KakR")},"data-v-a0359560",null).exports,W={name:"board",data:function(){return{loading:!1,showDialogProp:!1,confirmDeletePinControl:!1,title:this.$route.params.board,board:{pins:null},modal:{url:null,description:null}}},computed:{boardPins:function(){return this.board.pins}},methods:{showDialog:function(t){this.showDialogProp=t},showConfirmDeletePinModal:function(t){this.confirmDeletePinControl=t},addPinToBoard:function(){var t=this;this.showDialog(!1),this.loading=!0;i({url:this.modal.url,description:this.modal.description,uploaded_by:N(),saved_by:N()},{_id:this.board._id}).then(function(e){t.modal.url=null,t.modal.description=null,t.getPins().then(function(e){t.loading=!1,t.board=e.data}).catch(function(t){return console.error(t)})}).catch(function(t){return console.error(t)})},gotoPin:function(t){this.$router.replace("/pins/"+t._id)},getPins:function(){return function(t){return h("/api/boards/"+t)}(this.$route.params.board)},deletePinFromBoard:function(t){var e=this;this.loading=!0,r(t).then(function(t){e.getPins().then(function(t){e.loading=!1,e.board=t.data}).catch(function(t){return console.error(t)})}).catch(function(t){return console.error(t)})},fetchData:function(){var t=this;this.loading=!0,this.getPins().then(function(e){t.board=e.data,t.loading=!1}).catch(function(t){return console.error(t)})}},created:function(){this.fetchData()},updated:function(){this.$redrawVueMasonry()},watch:{$route:"fetchData"}},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"profile"},[t.loading?n("div",[n("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"query"}})],1):t._e(),t._v(" "),n("div",{staticClass:"md-layout md-gutter md-alignment-top-center"},[n("div",{staticClass:"md-layout-item md-size-70"},[n("p",{staticClass:"md-display-1"},[t._v(t._s(t.title))])])]),t._v(" "),n("div",{directives:[{name:"masonry",rawName:"v-masonry"}],attrs:{"transition-duration":"0.3s","item-selector":".tile"}},[n("div",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],staticClass:"tile"},[n("md-card",{staticClass:"board-card",attrs:{"md-with-hover":""},nativeOn:{click:function(e){t.showDialog(!0)}}},[n("md-ripple",[n("md-card-header",[n("span",{staticClass:"md-subhead"},[t._v("Add new pin")])]),t._v(" "),n("md-card-content",[n("md-button",{staticClass:"md-icon-button board-button"},[n("md-icon",[t._v("add")])],1)],1)],1)],1)],1),t._v(" "),t._l(t.boardPins,function(e){return n("div",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:e._id,staticClass:"tile"},[n("md-card",[n("md-card-media",[n("img",{attrs:{src:e.url,alt:e.description}})]),t._v(" "),n("md-card-area",[n("md-card-actions",[n("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.showConfirmDeletePinModal(!0)}}},[n("md-icon",[t._v("delete")])],1),t._v(" "),n("md-dialog-confirm",{attrs:{"md-active":t.confirmDeletePinControl,"md-title":"Confirm","md-content":"Are you sure you want to delete this pin?","md-confirm-text":"Delete","md-cancel-text":"Cancel"},on:{"update:mdActive":function(e){t.confirmDeletePinControl=e},"md-cancel":function(e){t.showConfirmDeletePinModal(!1)},"md-confirm":function(n){t.deletePinFromBoard(e._id)}}}),t._v(" "),n("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(n){t.gotoPin(e)}}},[n("md-icon",[t._v("pageview")])],1)],1)],1)],1)],1)})],2),t._v(" "),n("md-dialog",{staticClass:"dialog",attrs:{"md-active":t.showDialogProp},on:{"update:mdActive":function(e){t.showDialogProp=e}}},[n("div",[n("md-dialog-title",[t._v("Add Pin")]),t._v(" "),n("md-field",{attrs:{"md-clearable":""}},[n("label",{attrs:{for:"pin-uri"}},[t._v("Enter Url")]),t._v(" "),n("md-input",{attrs:{name:"pin-uri"},model:{value:t.modal.url,callback:function(e){t.$set(t.modal,"url",e)},expression:"modal.url"}})],1),t._v(" "),n("md-field",[n("label",{attrs:{for:"pin-description"}},[t._v("Enter a description")]),t._v(" "),n("md-textarea",{attrs:{name:"pin-description"},model:{value:t.modal.description,callback:function(e){t.$set(t.modal,"description",e)},expression:"modal.description"}})],1),t._v(" "),n("md-divider"),t._v(" "),n("md-dialog-actions",[n("md-button",{on:{click:function(e){t.showDialog(!1),t.modal.boardName=""}}},[t._v("Cancel")]),t._v(" "),n("md-button",{on:{click:function(e){t.addPinToBoard()}}},[t._v("Create")])],1)],1)])],1)},staticRenderFns:[]},G=n("VU/8")(W,j,!1,function(t){n("qKLd")},"data-v-706016ce",null).exports,K={name:"Dashboard",props:["authenticated"],components:{Profile:H,Board:G}},Q={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view",{attrs:{authenticated:this.authenticated}})},staticRenderFns:[]},X=n("VU/8")(K,Q,!1,function(t){n("e2xb")},"data-v-458901b6",null).exports,Y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("md-empty-state",{staticClass:"md-accent",attrs:{"md-icon":"alarm","md-label":"404, page not found.","md-description":"The page you're looking for does not exist."}},[e("router-link",{attrs:{to:"/"}},[this._v("Go Home")])],1)],1)},staticRenderFns:[]},Z=n("VU/8")({},Y,!1,function(t){n("J9ox")},null,null).exports,tt={name:"pin",props:["authenticated"],data:function(){return{loading:!1,pin:null,editPinModalControl:!1,savePinModalControl:!1,showCreateBoardDialogControl:!1,confirmDeletePinControl:!1,createBoardTitle:null,currentBoards:null,editPinDescription:null}},methods:{deletePinFromBoard:function(t){var e=this;r(t).then(function(t){e.$router.replace("/")}).catch(function(t){return console.error(t)})},showEditPinModal:function(t){this.editPinModalControl=t,this.editPinDescription=null},showSavePinModal:function(t){this.savePinModalControl=t},showConfirmDeletePinModal:function(t){this.confirmDeletePinControl=t},toggleCreateABoardDialog:function(t){this.showCreateBoardDialogControl=t},savePinToBoard:function(t){var e=this;i({url:this.pin.url,description:this.pin.description,uploaded_by:this.pin.uploaded_by,saved_by:N()},{_id:t}).then(function(t){e.$router.replace("/"+I()+"/dashboard/"+t.data.value.title)}).catch(function(t){return console.error(t)})},createABoardToAddPin:function(t){var e=this;a({title:t,owner:N()}).then(function(t){e.savePinToBoard(t.data._id)})},submitPinEdit:function(){var t=this;this.loading=!0,function(t,e){return _("/api/pins/"+t,{description:e})}(this.$route.params.id,this.editPinDescription).then(function(){t.getPinData().then(function(e){t.loading=!1,t.pin=e.data}).catch(function(t){return console.error(t)})}).catch(function(t){return console.error(t)}),this.showEditPinModal(!1)},getPinData:function(){return function(t){return h("/api/pins/"+t)}(this.$route.params.id)},fetchData:function(){var t=this;this.loading=!0,this.getPinData().then(function(e){t.pin=e.data,N()&&o().then(function(e){t.currentBoards=e.data}).catch(function(t){return console.err(t)}),t.loading=!1})}},computed:{currentUser:function(){return N()}},created:function(){this.fetchData()}},et={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md-layout md-gutter"},[t.loading?n("div",[n("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"query"}})],1):t._e(),t._v(" "),n("div",{staticClass:"md-layout-item md-size-50 md-xsmall-size-100 md-alignment-top-space-around"},[t.pin?n("md-card",[n("md-card-media",[n("img",{attrs:{src:t.pin.url,alt:t.pin.description}})]),t._v(" "),n("md-card-area",[n("md-card-content",[t._v("\n          "+t._s(t.pin.description)+"\n        ")]),t._v(" "),t.currentUser===t.pin.saved_by?n("md-card-actions",[n("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.showConfirmDeletePinModal(!0)}}},[n("md-icon",[t._v("delete")])],1),t._v(" "),n("md-dialog-confirm",{attrs:{"md-active":t.confirmDeletePinControl,"md-title":"Are you sure?","md-content":"Deleting a pin is permanent.","md-confirm-text":"Delete","md-cancel-text":"Cancel"},on:{"update:mdActive":function(e){t.confirmDeletePinControl=e},"md-cancel":function(e){t.showConfirmDeletePinModal(!1)},"md-confirm":function(e){t.deletePinFromBoard(t.pin._id)}}}),t._v(" "),n("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(e){t.showEditPinModal(!0)}}},[n("md-icon",[t._v("edit")])],1)],1):t._e(),t._v(" "),t.authenticated&&t.currentUser!==t.pin.saved_by?n("md-card-actions",[n("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.showSavePinModal(!0)}}},[n("md-icon",[t._v("bookmark")])],1)],1):t._e()],1)],1):t._e()],1),t._v(" "),n("md-dialog",{staticClass:"dialog",attrs:{"md-active":t.editPinModalControl},on:{"update:mdActive":function(e){t.editPinModalControl=e}}},[n("md-dialog-title",[t._v("Edit Pin")]),t._v(" "),n("md-card-content",[n("md-field",[n("label",{attrs:{for:"editDescription"}},[t._v("Edit Description")]),t._v(" "),n("md-input",{attrs:{name:"editDescription"},model:{value:t.editPinDescription,callback:function(e){t.editPinDescription=e},expression:"editPinDescription"}})],1)],1),t._v(" "),n("md-dialog-actions",[n("md-button",{on:{click:function(e){t.showEditPinModal(!1)}}},[t._v("Cancel")]),t._v(" "),n("md-button",{on:{click:function(e){t.submitPinEdit()}}},[t._v("Submit")])],1)],1),t._v(" "),n("md-dialog",{staticClass:"dialog",attrs:{"md-active":t.savePinModalControl},on:{"update:mdActive":function(e){t.savePinModalControl=e}}},[n("md-dialog-title",[t._v("Select a board to save pin to.")]),t._v(" "),n("md-dialog-content",[n("div",[n("md-button",{on:{click:function(e){t.toggleCreateABoardDialog(!0)}}},[t._v("Create Board")])],1),t._v(" "),t._l(t.currentBoards,function(e){return t.currentBoards?n("div",{key:e._id},[n("md-button",{on:{click:function(n){t.savePinToBoard(e._id)}}},[t._v(t._s(e.title))])],1):t._e()})],2),t._v(" "),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSavePinModal(!1)}}},[t._v("Cancel")])],1)],1),t._v(" "),n("md-dialog",{attrs:{"md-active":t.showCreateBoardDialogControl},on:{"update:mdActive":function(e){t.showCreateBoardDialogControl=e}}},[n("md-dialog-title",[t._v("Create Board")]),t._v(" "),n("md-dialog-content",[n("md-field",{attrs:{"md-clearable":""}},[n("label",{attrs:{for:"board-name"}},[t._v("Board name")]),t._v(" "),n("md-input",{attrs:{name:"board-name"},model:{value:t.createBoardTitle,callback:function(e){t.createBoardTitle=e},expression:"createBoardTitle"}})],1),t._v(" "),n("md-dialog-actions",[n("md-button",{nativeOn:{click:function(e){t.toggleCreateABoardDialog(!1)}}},[t._v("Cancel")]),t._v(" "),n("md-button",{nativeOn:{click:function(e){t.createABoardToAddPin(t.createBoardTitle)}}},[t._v("Create")])],1)],1)],1)],1)},staticRenderFns:[]},nt=n("VU/8")(tt,et,!1,function(t){n("2ugG")},"data-v-1f927cde",null).exports;s.default.use(E.a);var at=new E.a({mode:"history",routes:[{path:"/",name:"Home",component:F},{path:"/pins/:id",name:"Pin",component:nt},{path:"/callback",name:"Callback",component:q},{path:"/:id/dashboard",name:"Dashboard",component:X,beforeEnter:function(t,e,n){I()!==t.params.id&&n("/"),n()},children:[{path:"profile",name:"Profile",component:H},{path:":board",name:"Board",component:G}]},{path:"**",name:"FourOhFour",component:Z}]}),ot=this,it=function(){var t=void 0;return function(){return t||(t=new y.a.WebAuth({domain:x.DOMAIN,clientID:x.CLIENT_ID,redirectUri:x.REDIRECT_URI,audience:"https://photoboard.herokuapp.com/api",responseType:"token id_token",scope:"openid profile"}))}}(),rt=function(){return it().parseHash(function(){var t=D()(C.a.mark(function t(e,n){return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n&&n.accessToken&&n.idToken)){t.next=8;break}return t.next=3,d(n);case 3:return t.next=5,c(n);case 5:return t.abrupt("return",at.replace("/"));case 8:e&&(setTimeout(function(){return at.replace("/")},1e3),console.error(e));case 9:case"end":return t.stop()}},t,ot)}));return function(e,n){return t.apply(this,arguments)}}())},dt=new A.a,ct=function(){var t=JSON.parse(localStorage.getItem("expires_at"));return(new Date).getTime()<t}(),st=v(),lt={name:"navbar",props:["authenticated"],data:function(){return{}},methods:{login:function(){return it().authorize()},logout:function(){localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at"),localStorage.removeItem("profile"),localStorage.removeItem("id"),dt.emit("authChange",{authenticated:!1}),dt.emit("profileChange",{currentUser:null}),at.replace("/")},gotoProfile:function(){this.$router.push({name:"Profile",params:{id:f()}})}}},ut={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-toolbar",{staticClass:"md-primary main-header",attrs:{"md-elevation":"1"}},[n("md-button",{staticClass:"md-icon-button",attrs:{to:"/"}},[n("md-icon",[t._v("photo_camera")])],1),t._v(" "),n("div",{staticStyle:{flex:"1"}},[n("span",{staticClass:"md-xsmall-hide md-title"},[t._v("PhotoBoard")])]),t._v(" "),t.authenticated?n("md-button",{on:{click:function(e){t.gotoProfile()}}},[t._v("Profile")]):t._e(),t._v(" "),t.authenticated?t._e():n("md-button",{on:{click:function(e){t.login()}}},[t._v("Sign In")]),t._v(" "),t.authenticated?n("md-button",{on:{click:function(e){t.logout()}}},[t._v("Sign Out")]):t._e()],1)},staticRenderFns:[]},mt={name:"app",components:{Navbar:n("VU/8")(lt,ut,!1,function(t){n("IQeL")},"data-v-756bed04",null).exports},data:function(){var t=this;return dt.on("authChange",function(e){t.authenticated=e.authenticated}),dt.on("profileChange",function(e){t.currentUser=e.currentUser}),{authenticated:ct,currentUser:st}}},ft={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("navbar",{attrs:{authenticated:this.authenticated}}),this._v(" "),e("router-view",{attrs:{authenticated:this.authenticated,currentUser:this.currentUser}})],1)},staticRenderFns:[]},vt=n("VU/8")(mt,ft,!1,function(t){n("qN/W")},null,null).exports,pt=n("Lgyv"),ht=n.n(pt),_t=n("w/U7");n("4+hh"),n("MXkr");s.default.use(ht.a),s.default.use(_t.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:at,template:"<App/>",components:{App:vt}})},e2xb:function(t,e){},qKLd:function(t,e){},"qN/W":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.685b4ee42a011837c46b.js.map